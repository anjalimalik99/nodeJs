{"ast":null,"code":"import axios from 'axios';\nexport const register = newUser => {\n  return axios.post('users/register', {\n    name: newUser.name,\n    email: newUser.email,\n    password: newUser.password\n  }).then(response => {\n    console.log('Registered');\n  });\n};\nexport const login = user => {\n  return axios.post('users/login', {\n    email: user.email,\n    password: user.password\n  }).then(response => {\n    localStorage.setItem('usertoken', response.data.token);\n    return response.data;\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const getProfile = token => {\n  return axios.get('users/profile', {\n    headers: {\n      Authorization: token\n    }\n  }).then(response => {\n    response.data.status = 'success';\n    return response.data;\n  }).catch(err => {\n    console.dir(err);\n    return {\n      'error': err.message,\n      'status': 'failed'\n    };\n  });\n};\nexport const updatePassword = updatePasswordRequest => {\n  return axios.put(`/users/password/`, {\n    email: updatePasswordRequest.email,\n    password: updatePasswordRequest.password,\n    new_password: updatePasswordRequest.new_password\n  }, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': updatePasswordRequest.token\n    }\n  }).then(function (response) {\n    return response.data;\n  }).catch(err => {\n    console.dir(\"err\", err);\n    return err.message;\n  });\n};","map":{"version":3,"names":["axios","register","newUser","post","name","email","password","then","response","console","log","login","user","localStorage","setItem","data","token","catch","err","getProfile","get","headers","Authorization","status","dir","message","updatePassword","updatePasswordRequest","put","new_password"],"sources":["/home/fa064104/work/Todolist-React-Node-mysql/frontend/src/components/UserFunctions.js"],"sourcesContent":["import axios from 'axios'\n\nexport const register = newUser => {\n  return axios\n    .post('users/register', {\n      name: newUser.name,\n      email: newUser.email,\n      password: newUser.password\n    })\n    .then(response => {\n      console.log('Registered')\n    })\n}\n\nexport const login = user => {\n  return axios\n    .post('users/login', {\n      email: user.email,\n      password: user.password\n    })\n    .then(response => {\n      localStorage.setItem('usertoken', response.data.token)\n      return response.data\n    })\n    .catch(err => {\n      console.log(err)\n    })\n}\n\nexport const getProfile = token => {\n  return axios\n    .get('users/profile', {\n      headers: { Authorization: token }\n    })\n    .then(response => {\n      response.data.status = 'success';\n      return response.data\n    })\n    .catch(err => {\n      console.dir(err)\n      return {'error':err.message,'status':'failed'};\n    })\n}\n\n\n\nexport const updatePassword = updatePasswordRequest => {\n  return axios\n    .put(\n      `/users/password/`,\n      {\n        email:updatePasswordRequest.email,\n        password: updatePasswordRequest.password,\n        new_password: updatePasswordRequest.new_password\n      },\n      {\n        headers: { \n            'Content-Type': 'application/json', \n            'Authorization': updatePasswordRequest.token \n        }\n      }\n    )\n    .then(function(response) {\n        return response.data;\n    }).catch(err=>{\n      console.dir(\"err\",err);\n      return err.message;\n    })\n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,QAAQ,GAAGC,OAAO,IAAI;EACjC,OAAOF,KAAK,CACTG,IAAI,CAAC,gBAAgB,EAAE;IACtBC,IAAI,EAAEF,OAAO,CAACE,IAAI;IAClBC,KAAK,EAAEH,OAAO,CAACG,KAAK;IACpBC,QAAQ,EAAEJ,OAAO,CAACI;EACpB,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAI;IAChBC,OAAO,CAACC,GAAG,CAAC,YAAY,CAAC;EAC3B,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGC,IAAI,IAAI;EAC3B,OAAOZ,KAAK,CACTG,IAAI,CAAC,aAAa,EAAE;IACnBE,KAAK,EAAEO,IAAI,CAACP,KAAK;IACjBC,QAAQ,EAAEM,IAAI,CAACN;EACjB,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAI;IAChBK,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEN,QAAQ,CAACO,IAAI,CAACC,KAAK,CAAC;IACtD,OAAOR,QAAQ,CAACO,IAAI;EACtB,CAAC,CAAC,CACDE,KAAK,CAACC,GAAG,IAAI;IACZT,OAAO,CAACC,GAAG,CAACQ,GAAG,CAAC;EAClB,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGH,KAAK,IAAI;EACjC,OAAOhB,KAAK,CACToB,GAAG,CAAC,eAAe,EAAE;IACpBC,OAAO,EAAE;MAAEC,aAAa,EAAEN;IAAM;EAClC,CAAC,CAAC,CACDT,IAAI,CAACC,QAAQ,IAAI;IAChBA,QAAQ,CAACO,IAAI,CAACQ,MAAM,GAAG,SAAS;IAChC,OAAOf,QAAQ,CAACO,IAAI;EACtB,CAAC,CAAC,CACDE,KAAK,CAACC,GAAG,IAAI;IACZT,OAAO,CAACe,GAAG,CAACN,GAAG,CAAC;IAChB,OAAO;MAAC,OAAO,EAACA,GAAG,CAACO,OAAO;MAAC,QAAQ,EAAC;IAAQ,CAAC;EAChD,CAAC,CAAC;AACN,CAAC;AAID,OAAO,MAAMC,cAAc,GAAGC,qBAAqB,IAAI;EACrD,OAAO3B,KAAK,CACT4B,GAAG,CACD,kBAAiB,EAClB;IACEvB,KAAK,EAACsB,qBAAqB,CAACtB,KAAK;IACjCC,QAAQ,EAAEqB,qBAAqB,CAACrB,QAAQ;IACxCuB,YAAY,EAAEF,qBAAqB,CAACE;EACtC,CAAC,EACD;IACER,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAEM,qBAAqB,CAACX;IAC3C;EACF,CACF,CAAC,CACAT,IAAI,CAAC,UAASC,QAAQ,EAAE;IACrB,OAAOA,QAAQ,CAACO,IAAI;EACxB,CAAC,CAAC,CAACE,KAAK,CAACC,GAAG,IAAE;IACZT,OAAO,CAACe,GAAG,CAAC,KAAK,EAACN,GAAG,CAAC;IACtB,OAAOA,GAAG,CAACO,OAAO;EACpB,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}